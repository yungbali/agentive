(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(856)}])},856:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var n=i(5893),a=i(7294),r=i(5152),s=i.n(r),o=i(3495),l=i(1526),c=i(4585),d=i(8269),u=i(2003),m=i(512),g=i(8388);let p=(0,u.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=a.forwardRef((e,t)=>{let{className:i,variant:a,size:r,asChild:s=!1,...o}=e,l=s?d.g7:"button";return(0,n.jsx)(l,{className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,g.m6)((0,m.W)(t))}(p({variant:a,size:r,className:i})),ref:t,...o})});y.displayName="Button";let f={distribution:{initial:"As a Distribution Strategist, I specialize in:\n- Platform selection and optimization\n- Release timing strategies\n- Territory-specific planning\n- Digital service provider relationships\n\nHow can I help optimize your music distribution strategy?",analyze:e=>"\nAnalyzing distribution strategy for:\n- Artist: ".concat(e.artistName,"\n- Genre: ").concat(e.genre,"\n- Target Markets: ").concat(e.markets,"\n\nI'll consider:\n1. Platform-specific audience demographics\n2. Release timing optimization\n3. Territory-specific strategies\n4. Cross-platform promotion opportunities\n    ")},marketing:{initial:"As your Marketing Director, I focus on:\n- Campaign strategy development\n- Budget optimization\n- Social media planning\n- Influencer partnerships\n\nWhat aspects of your marketing strategy would you like to explore?",analyze:e=>"\nDeveloping marketing strategy for:\n- Campaign Goals: ".concat(e.goals,"\n- Budget: ").concat(e.budget,"\n- Timeline: ").concat(e.timeline,"\n\nI'll create:\n1. Platform-specific content strategy\n2. Influencer outreach plan\n3. Paid advertising recommendations\n4. Performance metrics framework\n    ")},playlist:{initial:"As a Playlist Curator, I specialize in:\n- Playlist strategy development\n- Genre-specific targeting\n- Curator relationship building\n- Playlist performance analytics\n\nHow can I help optimize your playlist submission strategy?",analyze:e=>"\nCreating playlist strategy for:\n- Genre: ".concat(e.genre,"\n- Style: ").concat(e.style,"\n- Target Playlists: ").concat(e.targetPlaylists,"\n\nI'll focus on:\n1. Playlist match analysis\n2. Submission timeline\n3. Curator outreach strategy\n4. Performance tracking\n    ")}};var h=i(7632);let b=()=>{let[e,t]=(0,a.useState)([]),[i,r]=(0,a.useState)(""),[s,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),b=(0,a.useRef)(null),x=[{id:"distribution",title:"Distribution Strategy",description:"Plan your music release across platforms",agent:"Distribution Strategist",completed:!1,systemPrompt:f.distribution.initial},{id:"marketing",title:"Marketing Campaign",description:"Create targeted marketing campaigns",agent:"Marketing Director",completed:!1,systemPrompt:f.marketing.initial},{id:"playlist",title:"Playlist Strategy",description:"Optimize playlist submission strategy",agent:"Playlist Curator",completed:!1,systemPrompt:f.playlist.initial}];(0,a.useEffect)(()=>{v()},[e]);let v=()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},w=async e=>{m(e);let i={id:(0,h.Z)(),role:"system",content:e.systemPrompt,timestamp:new Date,agentId:e.id};t(e=>[...e,i])},j=async()=>{if(!i.trim()||!u)return;d(!0);let n={id:(0,h.Z)(),role:"user",content:i,timestamp:new Date,agentId:u.id};t(e=>[...e,n]),r("");try{var a;let n=await fetch("/api/copilot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"You are a ".concat(u.agent," helping with music project strategy. \n                       Current step: ").concat(u.title)},...e.map(e=>({role:e.role,content:e.content})),{role:"user",content:i}]})}),r=null===(a=n.body)||void 0===a?void 0:a.getReader(),s=new TextDecoder,o="";if(r){let e={id:(0,h.Z)(),role:"assistant",content:"",timestamp:new Date,agentId:u.id,status:"thinking"};for(t(t=>[...t,e]);;){let{done:i,value:n}=await r.read();if(i)break;for(let i of s.decode(n).split("\n"))if(i.startsWith("data: ")){let n=i.slice(6);if("[DONE]"===n)continue;try{let{content:i}=JSON.parse(n);o+=i,t(t=>t.map(t=>t.id===e.id?{...t,content:o,status:"complete"}:t))}catch(e){console.error("Error parsing JSON:",e)}}}m(e=>e?{...e,completed:!0}:null)}}catch(e){console.error("Error:",e),t(e=>[...e,{id:(0,h.Z)(),role:"system",content:"An error occurred while processing your request. Please try again.",timestamp:new Date,status:"error"}])}finally{d(!1)}};return(0,n.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,n.jsxs)("div",{className:"w-80 border-r bg-white p-4 overflow-y-auto",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Music Project Workflow"}),(0,n.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,n.jsxs)(o.E.div,{onClick:()=>w(e),className:"p-4 rounded-lg cursor-pointer ".concat((null==u?void 0:u.id)===e.id?"bg-blue-50 border-blue-200 border-2":"bg-gray-50 hover:bg-gray-100"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,n.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[e.title,e.completed&&(0,n.jsx)(o.E.span,{initial:{scale:0},animate:{scale:1},className:"text-green-500",children:"âœ“"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.id))})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:(0,n.jsxs)(l.M,{children:[e.map(e=>(0,n.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsxs)("div",{className:"max-w-[80%] rounded-lg p-4 ".concat("user"===e.role?"bg-blue-500 text-white":"system"===e.role?"bg-gray-100":"bg-white border"),children:["thinking"===e.status?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(o.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0},className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full"}),"Thinking..."]}):(0,n.jsx)(c.U,{className:"prose max-w-none dark:prose-invert",children:e.content}),(0,n.jsx)("div",{className:"text-xs opacity-50 mt-2",children:e.timestamp.toLocaleTimeString()})]})},e.id)),(0,n.jsx)("div",{ref:b})]})}),(0,n.jsx)("div",{className:"border-t bg-white p-4",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("textarea",{value:i,onChange:e=>r(e.target.value),placeholder:u?"Discuss ".concat(u.title.toLowerCase()," with ").concat(u.agent,"..."):"Select a workflow step to begin...",className:"w-full p-4 rounded-lg border min-h-[100px] focus:ring-2 focus:ring-blue-500",disabled:s||!u}),(0,n.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,n.jsx)(y,{variant:"outline",onClick:()=>r(""),disabled:s||!i,children:"Clear"}),(0,n.jsx)(y,{onClick:j,disabled:s||!i||!u,className:"bg-blue-500 text-white",children:s?"Processing...":"Send Message"})]})]})})]})]})},x=s()(()=>Promise.all([i.e(822),i.e(156)]).then(i.bind(i,1156)),{loadableGenerated:{webpack:()=>[1156]},ssr:!1,loading:()=>(0,n.jsx)("div",{children:"Loading..."})}),v={initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1,transition:{duration:.8,ease:[.6,-.05,.01,.99]}},exit:{opacity:0,scale:.96,transition:{duration:.5}}},w={initial:{backgroundPosition:"0% 0%"},animate:{backgroundPosition:"100% 100%",transition:{duration:20,repeat:1/0,repeatType:"reverse"}}};function j(){return(0,n.jsxs)(o.E.div,{className:"min-h-screen relative overflow-hidden",initial:"initial",animate:"animate",exit:"exit",variants:v,children:[(0,n.jsx)(o.E.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-gray-50 to-purple-50",variants:w,style:{backgroundSize:"400% 400%",filter:"blur(40px)",opacity:.7,zIndex:-1}}),(0,n.jsxs)(o.E.div,{className:"relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[(0,n.jsx)(x,{}),(0,n.jsx)(b,{})]})]})}}},function(e){e.O(0,[659,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);